<!DOCTYPE html>
<!--
          Design：DONGYu
         API：hitokoto.cn
-->
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
		<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
		<title>DONGYu.</title>
		<meta name="keywords" content="DONGYu,DONGYu-Mir,DONGYu.site" />
		<meta name="description" content="昔风不起，唯有努力生存。 Le vent se lève ，il faut tenter de vivre。 ——瓦雷里《海滨墓园》" />
		<link href="https://q.qlogo.cn/g?b=qq&nk=100000@qq.com&s=100" mce_href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
		<script src="https://cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
		<script>
			$.getJSON('https://sslapi.hitokoto.cn/', function(hitokoto) {
				$("#logo").css("margin-right", "0");
				$('#hitokoto').html('<div style="padding-right:60px;overflow:hidden;"><div class="zuo" id="hitokoto1"><span><span class="text"></span><span id="gb">|</span></span></div></div><div><div class="you"  id="hitokoto2"></div></div> ')
				$(function() {
					t = setTimeout(function() {
						$("#hitokoto").fadeIn(2333);
						$("#gb").show();
						myPrint([hitokoto.hitokoto], 130)

						function myPrint(arr, speed) {
							var index = 0;
							var str = arr[index];
							var i = 0;
							var add = true;
							var mySetInterval = setInterval(function() {
								// 延时4个字符的时间
								if(i == str.length + 4) {
									add = false;
									$("#gb").hide();
									$('#hitokoto2').html('<span>' + hitokoto.from + '</span> ');
									$("#hitokoto2").css({
										height: "32px",
										padding: "4px 20px"
									});
									t = setTimeout(function() {
										$('#DONGYu').attr('id', 'DONGYu233');
									}, 1500);
									// 如果是最后一个字符串则终止循环函数
									if(index + 1 >= arr.length) {
										clearInterval(mySetInterval);
									}
								} else if(i == -2) {
									// 删除后延时2个字符的时间
									add = true;
									str = arr[++index];
								}
								setTimeout(function() {
									if(add) {
										i++;
										$(".text").html(str.substring(0, i));
									} else {
										$(".text").html(str.substring(0, i - 1));
										i--;
									}
								})
							}, speed)
						}
					}, 1500);
				})
			});
		</script>

		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
				font-family: inherit;
			}
			
			html {
				-ms-touch-action: none;
			}
			
			body {
				-webkit-tap-highlight-color: transparent;
				-webkit-user-select: none;
				-webkit-touch-callout: none;
				-ms-text-size-adjust: 100%;
				-webkit-text-size-adjust: 100%;
			}
			
			html,
			body,
			.container {
				height: 100%;
			}
			
			.container {
				line-height: 24px;
				letter-spacing: 2px;
				padding: 20% 30px 0;
				max-width: 366px;
				margin: 0 auto;
				display: -webkit-box;
				display: -webkit-flex;
				display: -ms-flexbox;
				display: flex;
				-webkit-box-orient: vertical;
				-webkit-box-direction: normal;
				-webkit-flex-direction: column;
				-ms-flex-direction: column;
				flex-direction: column;
			}
			
			#logo {
				transition: .4s;
				-moz-transition: .4s;
				-webkit-transition: 1.2s;
				-o-transition: .4s;
				text-align: left;
				margin-right: -200%;
			}
			
			#DONGYu233 {
				cursor: pointer;
			}
			
			.zuo,
			.you {
				transition: .4s;
				-moz-transition: .4s;
				-webkit-transition: .4s;
				-o-transition: .4s;
				color: #fff;
				margin: 10px 0;
				box-shadow: 0 3px 12px -1px rgba(0, 0, 0, 0.16);
				background-image: linear-gradient(to right, #2aa8f2, #9db1fa);
				padding: 4px 20px 4px 20px;
			}
			
			.zuo {
				border-radius: 0 15px 15px 15px;
				float: left;
			}
			
			.you {
				float: right;
				border-radius: 15px 0 15px 15px;
				height: 0px;
			}
			
			#hitokoto {
				display: none;
			}
			
			#hitokoto2 {
				padding: 0px;
			}
			
			.copyright {
				font-size: 12px;
				letter-spacing: 0px;
				text-align: center;
				color: rgba(0, 0, 0, 0.16);
				margin: auto;
				position: absolute;
				left: 0;
				bottom: 0;
				right: 0;
			}
			
			#gb {
				opacity: 1;
				-webkit-animation: blink 0.6s infinite;
				animation: blink 0.8s infinite;
				display: none;
			}
			
			@keyframes blink {
				0% {
					opacity: 1;
				}
				50% {
					opacity: 0;
				}
				100% {
					opacity: 1;
				}
			}
			
			@media screen and (max-width: 768px) {
				.container {
					padding: 55% 30px 0;
				}
			}
			
			.github-corner:hover .octo-arm {
				animation: octocat-wave 560ms ease-in-out
			}
			
			@keyframes octocat-wave {
				0%,
				100% {
					transform: rotate(0)
				}
				20%,
				60% {
					transform: rotate(-25deg)
				}
				40%,
				80% {
					transform: rotate(10deg)
				}
			}
		</style>

		<script>
		</script>
	</head>

	<body>

		<div style="display: none;">昔风不起，唯有努力生存。Le vent se lève ，il faut tenter de vivre。 ——瓦雷里《海滨墓园》</div>
		<div class="container" id="DONGYu">
			<div id="logo" title="DONGYu."><img src="logo.png" width="48%" alt="DONGYu."></div>
			<div id="hitokoto"></div>

			<div class="copyright">
				<span> DONGYu. © 2018 All Rights Reserved. </span>
			</div>
			<audio autoplay>
				<source src="bgm.ogg" type="audio/ogg">
				<source src="bgm.mp3" type="audio/mpeg"> 您的浏览器不支持 audio 元素。
			</audio>
		</div>
		<a href="https://github.com/Tamshen/DONGYu." target="_blank" class="github-corner">
			<svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;">
				<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
				<path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
				<path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
			</svg>
		</a>

	</body>
	<script>
		$(document).on('click', '#DONGYu233', function() {
			$("#hitokoto1").fadeOut("slow");
			$("#hitokoto2").fadeOut("slow");
			$(function() {
				t = setTimeout(function() {
					$("#gb").show();
					$.getJSON('https://sslapi.hitokoto.cn/', function(hitokoto) {
						$('#hitokoto').html('<div style="padding-right:60px;overflow:hidden;"><div class="zuo" id="hitokoto1"><span><span class="text"></span><span id="gb">|</span></span></div></div><div><div class="you"  id="hitokoto2"></div></div> ')
						$('#DONGYu233').attr('id', 'DONGYu');
						myPrint([hitokoto.hitokoto, "爱你哟！"], 130)

						function myPrint(arr, speed) {
							var index = 0;
							var str = arr[index];
							var i = 0;
							var add = true;
							var mySetInterval = setInterval(function() {
								// 延时4个字符的时间
								if(i == str.length + 4) {
									add = false;
									$("#gb").hide();
									$('#hitokoto2').html('<span>' + hitokoto.from + '</span> ');
									$("#hitokoto2").css({
										height: "32px",
										padding: "4px 20px"
									});
									$('#DONGYu').attr('id', 'DONGYu233');
									// 如果是最后一个字符串则终止循环函数
									if(index + 1 >= arr.length) {
										clearInterval(mySetInterval);
									}
								} else if(i == -2) {
									// 删除后延时2个字符的时间
									add = true;
									str = arr[++index];
								}
								setTimeout(function() {
									if(add) {
										i++;
										$(".text").html(str.substring(0, i));
									} else {
										$(".text").html(str.substring(0, i - 1));
										i--;
									}
								})
							}, speed)
						}
					}, 888);
				})
			});
		});
	</script>

</html>
